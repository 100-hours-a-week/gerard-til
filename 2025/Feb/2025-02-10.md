# TIL Template

## 날짜: 2025-02-10

## **1. 쿠버네티스 볼륨(Volume)의 개념과 도커 볼륨과의 차이**

### 쿠버네티스 볼륨

쿠버네티스 볼륨은 컨테이너가 사용하는 저장공간인데 컨테이너가 사라져도 데이터가 보관할 수 있는 저장공간이다.

### 도커볼륨과 쿠버네티스 볼륨의 차이

- **도커볼륨 :** 한 컴퓨터에서만 사용 가능한 저장소
- **쿠버네티스 볼륨 :** 여러 컴퓨터에서 사용 가능한 저장소

쿠버네티스 볼륨은 **여러 컨테이너가 같이 사용**할 수 있고, **컨테이너가 없어져도 데이터를 안전하게 보관**할 수 있다.

---

## 2. **퍼시스턴트 볼륨(PV)과 퍼시스턴트 볼륨 클레임(PVC)**

### **퍼시스턴트 볼륨(PV)**

PV는 운영자가 준비해둔 저장공간이다.

> **PV**는 클러스터에서 관리되는 실제(물리적 또는 가상) 스토리지 리소스를 의미합니다.
> 

### **퍼시스턴트 볼륨 클레임(PVC)**

PVC는 사용자가 저장 공간을 요청하는 방법이다.

> **PVC**는 어플리케이션(혹은 개발자)이 필요한 스토리지 요구사항(용량, 접근 모드 등)을 기술해 PV를 할당받을 수 있게 하는 요청(Request) 리소스입니다.
> 

### PV와 PVC의 연동

1. 운영자가 PV를 만들어 놓습니다.
2. 사용자가 PVC(신청서)를 작성합니다.
3. 쿠버네티스가 PVC와 알맞은 PV를 연결해줍니다.
4. 이제 컨테이너가 그 저장 공간을 사용할 수 있습니다.

---

## **3. 정적 프로비저닝과 동적 프로비저닝**

### 정적 프로비저닝

운영자가 **미리 여러 개의 PV를 만들어 놓는 방식**이다. 사용자가 PVC를 요청하면 이미 만들어진 PV 중에서 알맞은 것을 연결해준다.

### 동적 프로비저닝

사용자가 **PVC를 요청할 때마다 자동으로 새로운 PV를 만들어주는 방식**이다.

---

### **스토리지 클래스(StorageClass) 예시**

스토리지 클래스는 어떤 종류의 저장 공간을 만들지 정하는 설계도 같은 것이다.

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: fast-storage
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2
```

이 설계도는 “fast-storage"라는 이름을 가진 채로 AWS에서 gp2라는 디스크를 사용하여 저장 공간을 만들어달라고 요청하는 것과 같다.

사용자가 “fast-storage”가 필요하다 요청하면 자동으로 위의 yaml 파일을 가지고 새로운 저장공간을 만들어 준다.

### 오늘의 회고
- 오늘은 병원 issue로 많은 것을 못했지만 덕분에 컨디션 관리를 했다.
